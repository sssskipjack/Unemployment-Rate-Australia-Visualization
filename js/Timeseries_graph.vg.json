{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Unemployment Rates Over Time in Australia by State",
    "font": "Arial",
    "fontSize": 16,
    "anchor": "middle",
    "color": "#333"
  },
  "vconcat": [
    {
      "width": "container",
      "height": 600,
      "layer": [
        {
          "mark": "line",
          "data": {
            "url": "https://raw.githubusercontent.com/sssskipjack/Unemployment-Rate-Australia-Visualization/refs/heads/main/data/unemploymentRateTimeSeries.csv",
            "format": {"type": "csv"}
          },
          "encoding": {
            "y": {
              "field": "Unemployment Rate",
              "type": "quantitative",
              "title": "Unemployment Rate (%)",
              "axis": {
                "titleFont": "Arial",
                "titleFontSize": 14,
                "labelFont": "Arial",
                "labelFontSize": 12,
                "labelColor": "#333"
              }
            },
            "color": {
              "field": "State",
              "type": "nominal",
              "legend": {
                "titleFont": "Arial",
                "titleFontSize": 12,
                "labelFont": "Arial",
                "labelFontSize": 12,
                "labelColor": "#333"
              }
            },
            "tooltip": [
              {
                "field": "Date",
                "type": "temporal",
                "title": "Date",
                "format": "%b %Y"
              },
              {"field": "State", "type": "nominal", "title": "State"},
              {
                "field": "Unemployment Rate",
                "type": "quantitative",
                "title": "Unemployment Rate (%)",
                "format": ".1f"
              }
            ]
          }
        },
        {
          "mark": {
            "type": "rule",
            "color": "#d62728",
            "strokeWidth": 2,
            "strokeDash": [5,5],
            "opacity": 0.7
          },
          "data": {
            "values": [
              {"Date": "1983-03-01", "Event": "1983 Recession"},
              {"Date": "1990-01-01", "Event": "Early 1990s Recession"},
              {"Date": "2000-09-15", "Event": "Sydney Olympics"},
              {"Date": "2008-09-15", "Event": "Global Financial Crisis"},
              {"Date": "2020-03-01", "Event": "COVID-19 Pandemic"}
            ]
          },
          "encoding": {
            "x": {"field": "Date", "type": "temporal"},
            "tooltip": {"field": "Event", "type": "nominal"}
          }
        },
        {
          "mark": {
            "type": "text",
            "align": "center",
            "dx": 0,
            "dy": 250,  
            "color": "#d62728",
            "fontSize": 12,
            "fontWeight": "bold",
            "background": {
              "fill": "white",
              "opacity": 0.8,
              "cornerRadius": 3,
              "padding": 2
            }
          },
          "data": {
            "values": [
              {"Date": "1983-03-01", "Event": "1983 Recession"},
              {"Date": "1990-01-01", "Event": "Early 1990s Recession"},
              {"Date": "2000-09-15", "Event": "Sydney Olympics"},
              {"Date": "2008-09-15", "Event": "Global Financial Crisis"},
              {"Date": "2020-03-01", "Event": "COVID-19 Pandemic"}
            ]
          },
          "encoding": {
            "x": {"field": "Date", "type": "temporal"},
            "text": {"field": "Event", "type": "nominal"}
          }
        }
      ],
      "encoding": {
        "x": {
          "field": "Date",
          "type": "temporal",
          "scale": {"domain": {"param": "time_brush"}},
          "axis": {
            "title": "",
            "tickCount": 5,
            "grid": false,
            "labelFont": "Arial",
            "labelFontSize": 12,
            "labelColor": "#333"
          }
        }
      }
    },
    {
      "width": "container",
      "height": 100,
      "mark": "line",
      "title": {
        "text": "Zoom into Specific Timeframes",
        "font": "Arial",
        "fontSize": 14,
        "anchor": "middle",
        "color": "#333"
      },
      "params": [
        {
          "name": "time_brush",
          "select": {"type": "interval", "encodings": ["x"]}
        }
      ],
      "data": {
        "url": "https://raw.githubusercontent.com/sssskipjack/Unemployment-Rate-Australia-Visualization/refs/heads/main/data/unemploymentRateTimeSeries.csv",
        "format": {"type": "csv"}
      },
      "encoding": {
        "x": {
          "field": "Date",
          "type": "temporal",
          "axis": {
            "title": "",
            "format": "%Y",
            "labelFont": "Arial",
            "labelFontSize": 12,
            "labelColor": "#333"
          }
        },
        "y": {
          "field": "Unemployment Rate",
          "aggregate": "mean",
          "axis": {
            "tickCount": 3,
            "grid": false,
            "labelFont": "Arial",
            "labelFontSize": 12,
            "labelColor": "#333"
          },
          "title": "Average Unemployment Rate (%)"
        },
        "tooltip": [
          {
            "field": "Date",
            "type": "temporal",
            "title": "Date",
            "format": "%b %Y"
          },
          {
            "field": "Unemployment Rate",
            "type": "quantitative",
            "title": "Average Unemployment Rate (%)",
            "aggregate": "mean",
            "format": ".1f"
          }
        ]
      }
    }
  ],
  "config": {
    "title": {"font": "Arial", "fontSize": 16, "color": "#333"},
    "axis": {
      "labelFont": "Arial",
      "labelFontSize": 12,
      "labelColor": "#333"
    }
  }
}
